name: GraalVM Native Image

on:
    workflow_dispatch:
    push:
        tags:
            - "*"

jobs:
    Run:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3

            - name: GitHub Action for GraalVM
              uses: graalvm/setup-graalvm@v1
              with:
                java-version: '20.0.1' # for a specific JDK 17; or '17' for the latest JDK 17
                distribution: 'graalvm' # New 'distribution' option

            - name: echo
              run: echo Hi

            - name: multiline
              run: |
                  cd install
                  native-image -jar tcpping.jar --no-fallback -H:+BuildReport
                  echo Hello
                  pwd
                  mkdir demo
                  ls -la
                  cd ..
                  ls -la
                  uname
                  df -h
                  ip addr
                  sudo ls
